<nz-collapse>
  <nz-collapse-panel nzHeader="Tìm kiếm" [nzActive]="true" [nzShowArrow]="true">
    <div nz-row nzJustify="start" nzAlign="middle" [nzGutter]="24">
      <div nz-col nzXs="18" nzSm="18" nzLg="5">
        <label nzXs="24" nzSm="24" nzLg="24">Factory</label>
        <div nzXs="24" nzSm="24" nzLg="24">
          <nz-select nzPlaceHolder="Factory" [(ngModel)]="searchVo.factory" style="width: 100%;">
            <nz-option *ngFor="let f of factories" [nzValue]="f" [nzLabel]="f">
            </nz-option>
          </nz-select>
        </div>
      </div>

      <div nz-col nzXs="18" nzSm="18" nzLg="5">
        <label nzXs="24" nzSm="24" nzLg="24">Date</label>
        <div nzXs="24" nzSm="24" nzLg="24">
          <nz-range-picker
            nzFormat="yyyy-MM-dd"
            nzMode="date"
            [(ngModel)]="searchVo.date"
            (ngModelChange)="onChangeTime($event)"
          >
          </nz-range-picker>
        </div>
      </div>
      <div nz-col nzXs="6" nzSm="6" nzLg="3">
        <label nzXs="24" nzSm="24" nzLg="24">&nbsp;</label>
        <div nzXs="24" nzSm="24" nzLg="24">
          <button nz-button nzType="primary" (click)="searchData()">
            Search
          </button>
        </div>
      </div>
    </div>
  </nz-collapse-panel>
</nz-collapse>
<br />

<div id="pivotgrid-demo" style="height: 700px">
  <dx-pivot-grid
    id="pivotgrid"
    [allowSortingBySummary]="true"
    [allowFiltering]="true"
    [showBorders]="true"
    [allowSortingBySummary]="true"
    [showColumnGrandTotals]="true"
    [height]="600"
    [dataSource]="pivotGridDataSource"
    (onCellPrepared)="onCellPrepared($event)"
  >
    <dxo-field-chooser
      [allowSearch]="true"
      [enabled]="true"
    ></dxo-field-chooser>
    <dxo-scrolling mode="standard"></dxo-scrolling>
    <dxo-export [enabled]="true"></dxo-export>
    <dxo-header-filter
      [allowSearch]="true"
      [showRelevantValues]="true"
      [width]="300"
      [height]="250"
    ></dxo-header-filter>
    <dxo-field-panel
      [allowFieldDragging]="true"
      [visible]="true"
    ></dxo-field-panel>
  </dx-pivot-grid>
</div>
